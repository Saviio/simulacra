/*!
 * Simulacra.js
 * Version 1.2.3
 * MIT License
 * https://github.com/0x8890/simulacra
 */
!function e(t,r,n){function o(a,l){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return o(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";function n(e,t,r,n,i){var a,l,s,u,c,f;if("object"!=typeof t||null===t)throw new TypeError('Invalid type of value "'+t+'", object expected.');for(g.set(t,{}),s={},m.set(t,s),u=Object.keys(r),a=0,l=u.length;a<l;a++)c=u[a],f=i.concat(c),f.root=i.root,f.target=t,s[c]={keyPath:f,activeNodes:[],previousValues:[],valueIsArray:null},o(e,t,r,c,n,i)}function o(e,t,r,o,c,w){function b(){return x[o]}function v(t){var r=x[o];return x[o]=t,t===r?t:(q&&null!=t?n(e,t,q,c,I):S&&S(c,t,r,I),t)}function k(e){var t,r,n,i,l,s,u;if(x[o]=e,U=B.valueIsArray=Array.isArray(e),r=U?e:[e],U)for(r.pop=T,r.push=j,r.shift=O,r.unshift=C,r.splice=P,s=0,u=r.length;s<u;s++)N(r,s);for(s=0,u=Math.max(R.length,r.length);s<u;s++)i=r[s],l=R[s],n=i!==l?E(i,l,s):null,n?(t||(t=_.createDocumentFragment()),t.appendChild(n)):t&&W.parentNode.insertBefore(t,a(s+1,z)||W);return t&&W.parentNode.insertBefore(t,W),r.length!==R.length&&(R.length=z.length=r.length),e}function N(e,t){var r=e[t];Object.defineProperty(e,t,{get:function(){return r},set:function(n){var o,i,l;r=n,o=e[t],i=R[t],o!==i&&(l=E(o,i,t)),l&&W.parentNode.insertBefore(l,a(t+1,z)||W)},enumerable:!0,configurable:!0})}function A(e,t,r){var n,o=z[r],i=I,a=void 0===t?null:t;delete R[r],o&&(U&&(i=l(w,I,r)),S?n=S(o,null,a,i):q&&F&&(s(i,I),n=F(o,null,a,i)),n!==y&&W.parentNode.removeChild(o),delete z[r])}function E(t,r,o){var a,c=z[o],f=D,p=I,h=void 0===r?null:r;return null==t?(A(null,h,o),null):(U&&(p=l(w,I,o)),R[o]=t,q?(c&&A(t,h,o),f=u(e,D,q),p.target=U?t[o]:t,n(e,t,q,f,p),F&&(s(p,I),F(f,t,null,p))):(f=c||D.cloneNode(!0),a=S?S(f,t,h,p):void 0!==t?t:null,void 0!==a&&i(f,a,M[d])),!q&&c?null:(z[o]=f,f))}function T(){var e=this.length-1,t=R[e],r=Array.prototype.pop.call(this);return A(null,t,e),R.length=z.length=this.length,r}function j(){var e,t,r,n=this.length,o=Array.prototype.push.apply(this,arguments);if(arguments.length){for(t=_.createDocumentFragment(),e=n+arguments.length;n<e;n++)r=E(this[n],null,n),r&&t.appendChild(r),N(this,n);W.parentNode.insertBefore(t,W)}return o}function O(){return A(null,R[0],0),Array.prototype.shift.call(R),Array.prototype.shift.call(z),Array.prototype.shift.call(this)}function C(){var e,t,r,n,o=this.length,i=Array.prototype.unshift.apply(this,arguments);if(Array.prototype.unshift.apply(R,arguments),Array.prototype.unshift.apply(z,Array(t)),arguments.length){for(r=_.createDocumentFragment(),e=0,t=arguments.length;e<t;e++)n=E(arguments[e],null,e),n&&r.appendChild(n);for(e=o+arguments.length;o<e;o++)N(this,o);W.parentNode.insertBefore(r,a(arguments.length,z)||W)}return i}function P(e,t){var r,n,o,i,l,s,u=[];for(r=e,n=e+t;r<n;r++)A(null,R[r],r);for(r=2,n=arguments.length;r<n;r++)u.push(arguments[r]);if(Array.prototype.splice.apply(R,arguments),Array.prototype.splice.apply(z,[e,t].concat(Array(u.length))),l=Array.prototype.splice.apply(this,arguments),u.length){for(i=_.createDocumentFragment(),r=e+u.length-1,n=e;r>=n;r--)s=E(u[r-e],null,r),s&&i.appendChild(s);W.parentNode.insertBefore(i,a(e+u.length,z)||W)}if(o=u.length-t,o<0)R.length=z.length=this.length;else if(o>0)for(r=this.length-o,n=this.length;r<n;r++)N(this,r);return l}var _=e?e.document:window.document,x=g.get(t),B=m.get(t)[o],M=r[o],D=M[0],S=!M[p]&&M[1],q=M[p]&&M[1],F=M[2],W=f.get(M),I=B.keyPath,z=B.activeNodes,R=B.previousValues,U=B.valueIsArray;M[h]?v(t[o]):k(t[o]),Object.defineProperty(t,o,{get:b,set:M[h]?v:k,enumerable:!0,configurable:!0})}function i(e,t,r){switch(r){case"checked":t?e.checked="checked":e.removeAttribute("checked");break;default:e[r]=t}}function a(e,t){var r,n,o;for(r=e,n=t.length;r<n;r++)if(t[r]){o=t[r];break}return o}function l(e,t,r){var n=t.concat(r);return n.root=e.root,n.target=e.target,n}function s(e,t){var r,n;for(e.target=e.root,r=0,n=t.length-1;r<n;n++)e.target=e.target[t[r]]}var u=e("./process_nodes"),c=e("./key_map"),f=u.markerMap,p=c.hasDefinition,h=c.isBoundToParent,d=c.replaceAttribute,y=c.retainElement,g=new WeakMap,m=new WeakMap;t.exports=n},{"./key_map":3,"./process_nodes":4}],2:[function(e,t,r){"use strict";function n(e,t){var r,n,u,f=this?this.document:window.document,p=this?this.Node:window.Node;if(a(this||window),null===e||"object"!=typeof e||c(e))throw new TypeError("First argument must be a singular object.");if(!c(t))throw new TypeError("Second argument must be an array.");if("string"==typeof t[0]){if(n=t[0],t[0]=f.querySelector(n),!t[0])throw new Error('Top-level node "'+n+'" could not be found in the document.')}else if(!(t[0]instanceof p))throw new TypeError("The first position of top-level must be a Node or a CSS selector string.");return t[d]||(o(this,t[0],t[1]),i(t)),r=l(this,t[0],t[1]),u=[],u.root=e,s(this,e,t[1],r,u),r}function o(e,t,r){var n,a,l,s,u,c,d,m,w=e?e.Element:window.Element,b=[];if("object"!=typeof r)throw new TypeError("The second position must be an object.");for(l=Object.keys(r),n=0,a=l.length;n<a;n++){if(s=l[n],c=r[s],"function"==typeof c||"object"==typeof c&&null!==c&&!Array.isArray(c))r[s]=c=[t,c];else if("string"==typeof c)r[s]=c=[c];else if(!Array.isArray(c))throw new TypeError('The binding on key "'+s+'" is invalid.');if("string"==typeof c[0]){if(u=c[0],m=t.parentNode||t,c[0]=m.querySelector(u),!c[0])throw new Error('The element for selector "'+u+'" was not found.')}else if(!(c[0]instanceof w))throw new TypeError('The first position on key "'+s+'" must be a DOM element or a CSS selector string.');if(d=c[0],"object"==typeof c[1]&&null!==c[1]){if(Object.defineProperty(c,f,{value:!0}),c[2]&&"function"!=typeof c[2])throw new TypeError('The third position on key "'+s+'" must be a function.')}else if(c[1]&&"function"!=typeof c[1])throw new TypeError('The second position on key "'+s+'" must be an object or a function.');if(t!==d){if(b.push([s,d]),!t.contains(d))throw new Error("The bound DOM element must be either contained in or equal to the element in its parent binding.");c[f]?(o(e,d,c[1]),i(c)):(Object.defineProperty(c,p,{value:~y.indexOf(d.nodeName)?~g.indexOf(d.type)?"checked":"value":"textContent"}),i(c))}else Object.defineProperty(c,h,{value:!0}),c[f]?o(e,d,c[1]):"function"!=typeof c[1]&&console.warn('A change function was not defined on the key "'+s+'".'),i(c)}for(n=0,a=l.length;n<a;n++)for(s=l[n],d=r[s][0],n=0,a=b.length;n<a;n++)if(b[n][1].contains(d)&&b[n][1]!==d)throw new Error('The element for key "'+s+'" is contained in the element for the adjacent key "'+b[n][0]+'".');i(r)}function i(e){Object.defineProperty(e,d,{value:!0}),Object.freeze(e)}function a(e){var t,r,n,o,i,a,l=[[Object,"defineProperty"],[Object,"freeze"],[Object,"isFrozen"],[WeakMap],["document","createDocumentFragment"],["document","createTreeWalker"],["Node","prototype","appendChild"],["Node","prototype","contains"],["Node","prototype","insertBefore"],["Node","prototype","isEqualNode"],["Node","prototype","removeChild"]];for(t=0,r=l.length;t<r;t++)if(a=l[t],"string"==typeof a[0])for(i=e,n=0,o=a.length;n<o;n++){if(!(a[n]in i))throw new Error("Missing "+a.slice(0,n+1).join(".")+" feature which is required.");i=i[a[n]]}else for(i=a[0],n=1,o=a.length;n<o;n++)if(n>1&&(i=i[a[n]]),"undefined"==typeof i)throw new Error("Missing "+a[0].name+a.slice(1,n+1).join(".")+" feature which is required.")}var l=e("./process_nodes"),s=e("./bind_keys"),u=e("./key_map"),c=Array.isArray,f=u.hasDefinition,p=u.replaceAttribute,h=u.isBoundToParent,d=u.isProcessed,y=["INPUT","TEXTAREA","PROGRESS"],g=["checkbox","radio"];Object.defineProperty(n,"retainElement",{enumerable:!0,value:u.retainElement}),Object.defineProperty(n,"useCommentNode",{get:function(){return l.useCommentNode},set:function(e){l.useCommentNode=e},enumerable:!0}),t.exports=n},{"./bind_keys":1,"./key_map":3,"./process_nodes":4}],3:[function(e,t,r){"use strict";var n,o,i=["hasDefinition","isBoundToParent","isProcessed","replaceAttribute","retainElement"],a={},l="function"==typeof Symbol;for(n=0,o=i.length;n<o;n++)a[i[n]]=l?Symbol(i[n]):"__"+i[n]+"__";t.exports=a},{}],4:[function(e,t,r){"use strict";function n(e,t,r){var i,s,u,c,f,p,h,d,y=e?e.document:window.document,g=Object.keys(r);for(t=t.cloneNode(!0),d=o(e,t,r),i=0,s=g.length;i<s;i++)c=g[i],u=r[c],u[a]||(f=d.get(u[0]),p=f.parentNode,n.useCommentNode?(h=p.insertBefore(y.createComment(' end "'+c+'" '),f),p.insertBefore(y.createComment(' begin "'+c+'" '),h)):h=p.insertBefore(y.createTextNode(""),f),l.set(u,h),p.removeChild(f));return t}function o(e,t,r){var n,o,i,a=e?e.document:window.document,l=e?e.NodeFilter:window.NodeFilter,s=a.createTreeWalker(t,l.SHOW_ELEMENT),u=new WeakMap,c=Object.keys(r),f=[];for(n=0,o=c.length;n<o;n++)f.push(r[c[n]][0]);for(;s.nextNode()&&f.length;)for(n=0,o=f.length;n<o;n++)if(i=f[n],s.currentNode.isEqualNode(i)){u.set(i,s.currentNode),f.splice(n,1);break}return u}var i=e("./key_map"),a=i.isBoundToParent,l=n.markerMap=new WeakMap;n.useCommentNode=!1,t.exports=n},{"./key_map":3}],5:[function(e,t,r){window.simulacra=e("../lib/index")},{"../lib/index":2}]},{},[5]);
