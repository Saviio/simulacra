/*!
 * Simulacra.js
 * Version 1.4.1
 * MIT License
 * https://github.com/0x8890/simulacra
 */
!function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t,n,r,i){var a,l,s;if("object"!=typeof t||null===t)throw new TypeError('Invalid type of value "'+t+'", object expected.');g.set(t,{}),a={},v.set(t,a);for(l in n)s=i.concat(l),s.root=i.root,s.target=t,a[l]={keyPath:s,activeNodes:[],previousValues:[],valueIsArray:null},o(e,t,n,l,r,i)}function o(e,t,n,o,c,b){function N(){return M[o]}function E(t){var n,a=M[o];return t===a?t:(S&&null!=t?r(e,t,S,c,R):F&&(n=F(c,t,a,R),void 0!==n&&i(c,n,D[y])),M[o]=t,t)}function k(e){var t,n,r,i,l,s,u;if(V=q.valueIsArray=Array.isArray(e))for(n=e,n.pop=O,n.push=_,n.shift=x,n.unshift=C,n.splice=P,s=0,u=n.length;s<u;s++)T(n,s);else n=[e];for(s=0,u=Math.max(z.length,n.length);s<u;s++)i=n[s],l=z[s],r=i!==l?j(i,l,s):null,r?(t||(t=B.createDocumentFragment()),t.appendChild(r)):t&&I.parentNode.insertBefore(t,a(s+1,U)||I);return t&&I.parentNode.insertBefore(t,I),n.length!==z.length&&(z.length=U.length=n.length),M[o]=e,e}function T(e,t){var n=e[t];Object.defineProperty(e,t,{get:function(){return n},set:function(r){var o,i,l;n=r,o=e[t],i=z[t],o!==i&&(l=j(o,i,t)),l&&I.parentNode.insertBefore(l,a(t+1,U)||I)},enumerable:!0,configurable:!0})}function A(e,t,n){var r,o=U[n],i=R;delete z[n],o&&(V&&(i=l(b,R,n)),F?r=F(o,null,t,i):S&&W&&(s(i,R),r=W(o,null,t,i)),r!==m&&I.parentNode.removeChild(o),delete U[n])}function j(t,n,a){var c,p=U[a],d=L,h=R;if(void 0===t&&(t=null),void 0===n&&(n=null),null===t)return A(null,n,a),null;if(V&&(h=l(b,R,a)),z[a]=t,S)p&&A(t,n,a),d=f(e,L,S),h.target=V?t[a]:t,r(e,t,S,d,h),W&&(s(h,R),W(d,t,null,h));else if(d=p||L.cloneNode(!0),F?(c=F(d,t,n,h),void 0!==c&&i(d,c,D[y])):(null===n&&~w.indexOf(d.tagName)&&d.addEventListener("input",u(D[y],h,o)),i(d,t,D[y])),p)return null;return U[a]=d,d}function O(){var e=this.length-1,t=z[e],n=Array.prototype.pop.call(this);return A(null,t,e),z.length=U.length=this.length,n}function _(){var e,t,n,r=this.length,o=Array.prototype.push.apply(this,arguments);if(arguments.length){for(t=B.createDocumentFragment(),e=r+arguments.length;r<e;r++)n=j(this[r],null,r),n&&t.appendChild(n),T(this,r);I.parentNode.insertBefore(t,I)}return o}function x(){return A(null,z[0],0),Array.prototype.shift.call(z),Array.prototype.shift.call(U),Array.prototype.shift.call(this)}function C(){var e,t,n,r,o=this.length,i=Array.prototype.unshift.apply(this,arguments);if(Array.prototype.unshift.apply(z,arguments),Array.prototype.unshift.apply(U,Array(t)),arguments.length){for(n=B.createDocumentFragment(),e=0,t=arguments.length;e<t;e++)r=j(arguments[e],null,e),r&&n.appendChild(r);for(e=o+arguments.length;o<e;o++)T(this,o);I.parentNode.insertBefore(n,a(arguments.length,U)||I)}return i}function P(e,t){var n,r,o,i,l,s,u=[];for(n=e,r=e+t;n<r;n++)A(null,z[n],n);for(n=2,r=arguments.length;n<r;n++)u.push(arguments[n]);if(Array.prototype.splice.apply(z,arguments),Array.prototype.splice.apply(U,[e,t].concat(Array(u.length))),l=Array.prototype.splice.apply(this,arguments),u.length){for(i=B.createDocumentFragment(),n=e+u.length-1,r=e;n>=r;n--)s=j(u[n-e],null,n),s&&i.appendChild(s);I.parentNode.insertBefore(i,a(e+u.length,U)||I)}if(o=u.length-t,o<0)z.length=U.length=this.length;else if(o>0)for(n=this.length-o,r=this.length;n<r;n++)T(this,n);return l}var B=e?e.document:window.document,M=g.get(t),q=v.get(t)[o],D=n[o],L=D[0],F=!D[d]&&D[1],S=D[d]&&D[1],W=D[2],I=p.get(D),R=q.keyPath,U=q.activeNodes,z=q.previousValues,V=q.valueIsArray;D[h]?E(t[o]):k(t[o]),Object.defineProperty(t,o,{get:N,set:D[h]?E:k,enumerable:!0,configurable:!0})}function i(e,t,n){switch(n){case"checked":e.checked=Boolean(t);break;case"value":e.value!==t&&(e.value=t);break;default:e[n]=t}}function a(e,t){var n,r,o;for(n=e,r=t.length;n<r;n++)if(t[n]){o=t[n];break}return o}function l(e,t,n){var r=t.concat(n);return r.root=e.root,r.target=e.target||e.root,r}function s(e,t){var n,r;for(e.target=e.root,n=0,r=t.length-1;n<r;r++)e.target=e.target[t[n]]}function u(e,t,n){var r=t.target,o=t[t.length-1],i=n;return"number"==typeof o&&(r=r[n],i=o),function(t){r[i]=t.target[e]}}var f=e("./process_nodes"),c=e("./key_map"),p=f.markerMap,d=c.hasDefinition,h=c.isBoundToParent,y=c.replaceAttribute,m=c.retainElement,g=new WeakMap,v=new WeakMap,w=["INPUT","TEXTAREA"];t.exports=r},{"./key_map":4,"./process_nodes":5}],2:[function(e,t,n){"use strict";var r=e("./key_map"),o=r.retainElement,i="function"==typeof requestAnimationFrame;t.exports={setDefault:function(e,t){return null!=t?t:void 0},bindEvents:function(e,t){return void 0===t&&(t=!1),function(n,r,o){var i;if(null==r)for(i in e)n.removeEventListener(i,e[i],t);else if(null==o)for(i in e)n.addEventListener(i,e[i],t)}},animate:function(e,t,n,r){return function(a,l,s){if("classList"in a)if(null==l){if(e&&a.classList.remove(e),n&&a.classList.add(n),r)return setTimeout(function(){a.parentNode.removeChild(a)},r),o}else null!=l&&null!=s&&t?(a.classList.contains(t)&&(a.classList.remove(t),void a.offsetWidth),a.classList.add(t)):null==s&&e&&(i?requestAnimationFrame(function(){a.classList.add(e)}):a.classList.add(e))}},chain:function(){var e=arguments;return function(t,n,r,o){var i,a,l;for(i=0;i<e.length;i++)a=e[i](t,n,r,o),void 0!==a&&(l=a);return l}}}},{"./key_map":4}],3:[function(e,t,n){"use strict";function r(e,t){var n,r,i,s=this?this.document:window.document,c=this?this.Node:window.Node;if(l(this||window),null===e||"object"!=typeof e||d(e))throw new TypeError("First argument must be a singular object.");if(!d(t))throw new TypeError("Second argument must be an array.");if("string"==typeof t[0]){if(r=t[0],t[0]=s.querySelector(r),!t[0])throw new Error('Top-level node "'+r+'" could not be found in the document.')}else if(!(t[0]instanceof c))throw new TypeError("The first position of top-level must be a Node or a CSS selector string.");return t[g]||(o(this,t[0],t[1]),a(t)),n=u(this,t[0],t[1]),i=[],i.root=e,f(this,e,t[1],n,i),n}function o(e,t,n){var r,l,s,u,f,c,p,d=e?e.Element:window.Element,y=[];if("object"!=typeof n)throw new TypeError("The second position must be an object.");for(s in n){if(f=n[s],"function"==typeof f||"object"==typeof f&&null!==f&&!Array.isArray(f))n[s]=f=[t,f];else if("string"==typeof f)n[s]=f=[f];else if(!Array.isArray(f))throw new TypeError('The binding on key "'+s+'" is invalid.');if("string"==typeof f[0]){if(u=f[0],p=t.parentNode||t,f[0]=p.querySelector(u),!f[0])throw new Error('The element for selector "'+u+'" was not found.')}else if(!(f[0]instanceof d))throw new TypeError('The first position on key "'+s+'" must be a DOM element or a CSS selector string.');if(c=f[0],"object"==typeof f[1]&&null!==f[1]){if(Object.defineProperty(f,h,{value:!0}),f[2]&&"function"!=typeof f[2])throw new TypeError('The third position on key "'+s+'" must be a function.')}else if(f[1]&&"function"!=typeof f[1])throw new TypeError('The second position on key "'+s+'" must be an object or a function.');if(t!==c){if(y.push([s,c]),!t.contains(c))throw new Error("The bound DOM element must be either contained in or equal to the element in its parent binding.");f[h]?(o(e,c,f[1]),a(f)):(i(f,c),a(f))}else Object.defineProperty(f,m,{value:!0}),f[h]?o(e,c,f[1]):"function"==typeof f[1]?i(f,c):console.warn('A change function was not defined on the key "'+s+'".'),a(f)}for(s in n)for(c=n[s][0],r=0,l=y.length;r<l;r++)if(y[r][1].contains(c)&&y[r][1]!==c)throw new Error('The element for key "'+s+'" is contained in the element for the adjacent key "'+y[r][0]+'".');a(n)}function i(e,t){Object.defineProperty(e,y,{value:~v.indexOf(t.nodeName)?~w.indexOf(t.type)?"checked":"value":"textContent"})}function a(e){Object.defineProperty(e,g,{value:!0}),Object.freeze(e)}function l(e){var t,n,r,o,i,a,l=[[Object,"defineProperty"],[Object,"freeze"],[Object,"isFrozen"],[WeakMap],["document","createDocumentFragment"],["document","createTreeWalker"],["Node","prototype","appendChild"],["Node","prototype","contains"],["Node","prototype","insertBefore"],["Node","prototype","isEqualNode"],["Node","prototype","removeChild"]];for(t=0,n=l.length;t<n;t++)if(a=l[t],"string"==typeof a[0])for(i=e,r=0,o=a.length;r<o;r++){if(!(a[r]in i))throw new Error("Missing "+a.slice(0,r+1).join(".")+" feature which is required.");i=i[a[r]]}else for(i=a[0],r=1,o=a.length;r<o;r++)if(r>1&&(i=i[a[r]]),"undefined"==typeof i)throw new Error("Missing "+a[0].name+a.slice(1,r+1).join(".")+" feature which is required.")}var s,u=e("./process_nodes"),f=e("./bind_keys"),c=e("./key_map"),p=e("./helpers"),d=Array.isArray,h=c.hasDefinition,y=c.replaceAttribute,m=c.isBoundToParent,g=c.isProcessed,v=["INPUT","TEXTAREA","PROGRESS"],w=["checkbox","radio"];Object.defineProperty(r,"retainElement",{enumerable:!0,value:c.retainElement}),Object.defineProperty(r,"useCommentNode",{get:function(){return u.useCommentNode},set:function(e){u.useCommentNode=e},enumerable:!0});for(s in p)r[s]=p[s];t.exports=r},{"./bind_keys":1,"./helpers":2,"./key_map":4,"./process_nodes":5}],4:[function(e,t,n){"use strict";var r,o,i=["hasDefinition","isBoundToParent","isProcessed","replaceAttribute","retainElement"],a={},l="function"==typeof Symbol;for(r=0,o=i.length;r<o;r++)a[i[r]]=l?Symbol(i[r]):"__"+i[r]+"__";t.exports=a},{}],5:[function(e,t,n){"use strict";function r(e,t,n){var i,s,u,f,c,p,d=e?e.document:window.document;t=t.cloneNode(!0),p=o(e,t,n);for(i in n)s=n[i],s[a]||(u=p.get(s[0]),f=u.parentNode,r.useCommentNode?(c=f.insertBefore(d.createComment(' end "'+i+'" '),u),f.insertBefore(d.createComment(' begin "'+i+'" '),c)):c=f.insertBefore(d.createTextNode(""),u),l.set(s,c),f.removeChild(u));return t}function o(e,t,n){var r,o,i,a,l=e?e.document:window.document,s=e?e.NodeFilter:window.NodeFilter,u=l.createTreeWalker(t,s.SHOW_ELEMENT),f=new WeakMap,c=[];for(i in n)c.push(n[i][0]);for(;u.nextNode()&&c.length;)for(r=0,o=c.length;r<o;r++)if(a=c[r],u.currentNode.isEqualNode(a)){f.set(a,u.currentNode),c.splice(r,1);break}return f}var i=e("./key_map"),a=i.isBoundToParent,l=r.markerMap=new WeakMap;r.useCommentNode=!1,t.exports=r},{"./key_map":4}],6:[function(e,t,n){window.simulacra=e("../lib/index")},{"../lib/index":3}]},{},[6]);
