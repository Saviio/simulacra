/*!
 * Simulacra.js
 * Version 1.5.0
 * MIT License
 * https://github.com/0x8890/simulacra
 */
!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t,n,r,i){var a,s,u;if("object"!=typeof t||null===t)throw new TypeError('Invalid type of value "'+t+'", object expected.');g.set(t,{}),a={},v.set(t,a);for(s in n)u=i.concat(s),u.root=i.root,u.target=t,a[s]={keyPath:u,activeNodes:[],previousValues:[],valueIsArray:null},o(e,t,n,s,r,i)}function o(e,t,n,o,f,b){function N(){return B[o]}function k(t){var n,a=B[o];return t===a?t:(F&&null!=t?r(e,t,F,f,I):q&&(n=q(f,t,a,I),void 0!==n&&i(f,n,D[y])),B[o]=t,t)}function E(e){var t,n,r,i,s,u,l,c=d.get(D);if(z=L.valueIsArray=Array.isArray(e))for(n=e,n.pop=x,n.push=O,n.shift=j,n.unshift=P,n.splice=M,u=0,l=n.length;u<l;u++)T(n,u);else n=[e];for(u=0,l=Math.max(U.length,n.length);u<l;u++)i=n[u],s=U[u],r=i!==s?_(i,s,u):null,r?(t||(t=C.createDocumentFragment()),t.appendChild(r)):t&&c.parentNode.insertBefore(t,a(u+1,R)||c);return t&&c.parentNode.insertBefore(t,c),n.length!==U.length&&(U.length=R.length=n.length),B[o]=e,e}function T(e,t){var n=e[t];Object.defineProperty(e,t,{get:function(){return n},set:function(r){var o,i,s,u=d.get(D);n=r,o=e[t],i=U[t],o!==i&&(s=_(o,i,t)),s&&u.parentNode.insertBefore(s,a(t+1,R)||u)},enumerable:!0,configurable:!0})}function A(e,t,n){var r,o=d.get(D),i=R[n],a=I;delete U[n],i&&(delete R[n],z&&(a=s(b,I,n)),q?r=q(i,null,t,a):F&&W&&(u(a,I),r=W(i,null,t,a)),r!==m&&o.parentNode.removeChild(i))}function _(t,n,a){var f,d=R[a],p=S,h=I;if(void 0===t&&(t=null),void 0===n&&(n=null),null===t)return A(null,n,a),null;if(z&&(h=s(b,I,a)),U[a]=t,F)d&&A(t,n,a),p=c(e,S,F),h.target=z?t[a]:t,r(e,t,F,p,h),W&&(u(h,I),W(p,t,null,h));else if(p=d||S.cloneNode(!0),q?(f=q(p,t,n,h),void 0!==f&&i(p,f,D[y])):(null===n&&~w.indexOf(p.tagName)&&p.addEventListener("input",l(D[y],h,o)),i(p,t,D[y])),d)return null;return R[a]=p,p}function x(){var e=this.length-1,t=U[e],n=Array.prototype.pop.call(this);return A(null,t,e),U.length=R.length=this.length,n}function O(){var e,t,n,r=d.get(D),o=this.length,i=Array.prototype.push.apply(this,arguments);if(arguments.length){for(t=C.createDocumentFragment(),e=o+arguments.length;o<e;o++)n=_(this[o],null,o),n&&t.appendChild(n),T(this,o);r.parentNode.insertBefore(t,r)}return i}function j(){return A(null,U[0],0),Array.prototype.shift.call(U),Array.prototype.shift.call(R),Array.prototype.shift.call(this)}function P(){var e,t,n,r,o=d.get(D),i=this.length,s=Array.prototype.unshift.apply(this,arguments);if(Array.prototype.unshift.apply(U,arguments),Array.prototype.unshift.apply(R,Array(t)),arguments.length){for(n=C.createDocumentFragment(),e=0,t=arguments.length;e<t;e++)r=_(arguments[e],null,e),r&&n.appendChild(r);for(e=i+arguments.length;i<e;i++)T(this,i);o.parentNode.insertBefore(n,a(arguments.length,R)||o)}return s}function M(e,t){var n,r,o,i,s,u,l=d.get(D),c=[];for(n=e,r=e+t;n<r;n++)A(null,U[n],n);for(n=2,r=arguments.length;n<r;n++)c.push(arguments[n]);if(Array.prototype.splice.apply(U,arguments),Array.prototype.splice.apply(R,[e,t].concat(Array(c.length))),s=Array.prototype.splice.apply(this,arguments),c.length){for(i=C.createDocumentFragment(),n=e+c.length-1,r=e;n>=r;n--)u=_(c[n-e],null,n),u&&i.appendChild(u);l.parentNode.insertBefore(i,a(e+c.length,R)||l)}if(o=c.length-t,o<0)U.length=R.length=this.length;else if(o>0)for(n=this.length-o,r=this.length;n<r;n++)T(this,n);return s}var C=e?e.document:window.document,B=g.get(t),L=v.get(t)[o],D=n[o],S=D[0],q=!D[p]&&D[1],F=D[p]&&D[1],W=D[2],I=L.keyPath,R=L.activeNodes,U=L.previousValues,z=L.valueIsArray;D[h]?k(t[o]):E(t[o]),Object.defineProperty(t,o,{get:N,set:D[h]?k:E,enumerable:!0,configurable:!0})}function i(e,t,n){switch(n){case"checked":e.checked=Boolean(t);break;case"value":e.value!==t&&(e.value=t);break;default:e[n]=t}}function a(e,t){var n,r,o;for(n=e,r=t.length;n<r;n++)if(t[n]){o=t[n];break}return o}function s(e,t,n){var r=t.concat(n);return r.root=e.root,r.target=e.target||e.root,r}function u(e,t){var n,r;for(e.target=e.root,n=0,r=t.length-1;n<r;r++)e.target=e.target[t[n]]}function l(e,t,n){var r=t.target,o=t[t.length-1],i=n;return"number"==typeof o&&(r=r[n],i=o),function(t){r[i]=t.target[e]}}var c=e("./process_nodes"),f=e("./key_map"),d=c.markerMap,p=f.hasDefinition,h=f.isBoundToParent,y=f.replaceAttribute,m=f.retainElement,g=new WeakMap,v=new WeakMap,w=["INPUT","TEXTAREA"];t.exports=r,r.storeMeta=v,r.addToPath=s,r.findTarget=u},{"./key_map":5,"./process_nodes":6}],2:[function(e,t,n){"use strict";function r(e){var t,n,r,o,i,a,s=[[Object,"defineProperty"],[Object,"freeze"],[Object,"isFrozen"],[WeakMap],["document","createDocumentFragment"],["document","createTreeWalker"],["Node","prototype","appendChild"],["Node","prototype","contains"],["Node","prototype","insertBefore"],["Node","prototype","isEqualNode"],["Node","prototype","removeChild"]];for(t=0,n=s.length;t<n;t++)if(a=s[t],"string"==typeof a[0])for(i=e,r=0,o=a.length;r<o;r++){if(!(a[r]in i))throw new Error("Missing "+a.slice(0,r+1).join(".")+" feature which is required.");i=i[a[r]]}else for(i=a[0],r=1,o=a.length;r<o;r++)if(r>1&&(i=i[a[r]]),"undefined"==typeof i)throw new Error("Missing "+a[0].name+a.slice(1,r+1).join(".")+" feature which is required.")}t.exports=r},{}],3:[function(e,t,n){"use strict";function r(e,t){return null!=t?t:void 0}function o(e,t){function n(e,t){return function(n){return e(n,t)}}var r={};return void 0===t&&(t=!1),function(o,i,a,s){var u;if(null==i)for(u in e)o.removeEventListener(u,r[u],t);else if(null==a)for(u in e)r[u]=n(e[u],s),o.addEventListener(u,r[u],t)}}function i(e,t,n,r){return function(o,i,a){var s;if("classList"in o)if(null==i){if(e&&o.classList.remove(e),n&&o.classList.add(n),r)return setTimeout(function(){o.parentNode.removeChild(o)},r),u}else null!=i&&null!=a&&t?(o.classList.contains(t)&&(o.classList.remove(t),void o.offsetWidth),o.classList.add(t)):null==a&&e&&(l&&c&&!document.documentElement.contains(o)?(s=new MutationObserver(function(t){var n,r,i,a,u,l;for(n=0,r=t.length;n<r;n++)for(u=t[n],i=0,a=u.addedNodes.length;i<a;i++)l=u.addedNodes[i],l===o&&(void o.offsetWidth,o.classList.add(e),s.disconnect())}),s.observe(document.documentElement,{childList:!0,subtree:!0})):o.classList.add(e))}}function a(){var e=arguments;return function(t,n,r,o){var i,a,s;for(i=0;i<e.length;i++)a=e[i](t,n,r,o),void 0!==a&&(s=a);return s}}var s=e("./key_map"),u=s.retainElement,l="undefined"!=typeof MutationObserver,c="undefined"!=typeof document;t.exports={setDefault:r,bindEvents:o,animate:i,flow:a,chain:a}},{"./key_map":5}],4:[function(e,t,n){"use strict";function r(e,t,n){var r,i,s,c=this?this.document:window.document,f=this?this.Node:window.Node;if(p(this||window),null===e||"object"!=typeof e||h(e))throw new TypeError("First argument must be a singular object.");if(!h(t))throw new TypeError("Second argument must be an array.");if("string"==typeof t[0]){if(i=t[0],t[0]=c.querySelector(i),!t[0])throw new Error('Top-level Node "'+i+'" could not be found in the document.')}else if(!(t[0]instanceof f))throw new TypeError("The first position of the top-level must be either a Node or a CSS selector string.");return t[v]||("content"in t[0]&&(t[0]=t[0].content),o(this,t[0],t[1]),a(t)),r=u(this,t[0],t[1]),s=[],s.root=e,l(this,e,t[1],r,s),n?(d(this,e,t[1],r,n),n):r}function o(e,t,n){var r,s,u,l,c,f,d,p=e?e.Element:window.Element,h=[];if("object"!=typeof n)throw new TypeError("The second position must be an object.");for(u in n){if(c=n[u],"function"==typeof c||"object"==typeof c&&null!==c&&!Array.isArray(c))n[u]=c=[t,c];else if("string"==typeof c)n[u]=c=[c];else if(!Array.isArray(c))throw new TypeError('The binding on key "'+u+'" is invalid.');if("string"==typeof c[0]){if(l=c[0],d=t.parentNode||t,c[0]=d.querySelector(l),!c[0])throw new Error('The element for selector "'+l+'" was not found.')}else if(!(c[0]instanceof p))throw new TypeError('The first position on key "'+u+'" must be a DOM element or a CSS selector string.');if("content"in c[0]&&(c[0]=c[0].content),f=c[0],"object"==typeof c[1]&&null!==c[1]){if(Object.defineProperty(c,y,{value:!0}),c[2]&&"function"!=typeof c[2])throw new TypeError('The third position on key "'+u+'" must be a function.')}else if(c[1]&&"function"!=typeof c[1])throw new TypeError('The second position on key "'+u+'" must be an object or a function.');if(t!==f){if(h.push([u,f]),!t.contains(f))throw new Error("The bound DOM element must be either contained in or equal to the element in its parent binding.");c[y]?(o(e,f,c[1]),a(c)):(i(c,f),a(c))}else Object.defineProperty(c,g,{value:!0}),c[y]?o(e,f,c[1]):"function"==typeof c[1]?i(c,f):console.warn('A change function was not defined on the key "'+u+'".'),a(c)}for(u in n)for(f=n[u][0],r=0,s=h.length;r<s;r++)if(h[r][1].contains(f)&&h[r][1]!==f)throw new Error('The element for key "'+u+'" is contained in the element for the adjacent key "'+h[r][0]+'".');a(n)}function i(e,t){Object.defineProperty(e,m,{value:~w.indexOf(t.nodeName)?~b.indexOf(t.type)?"checked":"value":"textContent"})}function a(e){Object.defineProperty(e,v,{value:!0}),Object.freeze(e)}var s,u=e("./process_nodes"),l=e("./bind_keys"),c=e("./key_map"),f=e("./helpers"),d=e("./rehydrate"),p=e("./feature_check"),h=Array.isArray,y=c.hasDefinition,m=c.replaceAttribute,g=c.isBoundToParent,v=c.isProcessed,w=["INPUT","TEXTAREA","PROGRESS"],b=["checkbox","radio"];Object.defineProperty(r,"retainElement",{enumerable:!0,value:c.retainElement}),Object.defineProperty(r,"useCommentNode",{get:function(){return u.useCommentNode},set:function(e){u.useCommentNode=e},enumerable:!0});for(s in f)r[s]=f[s];t.exports=r},{"./bind_keys":1,"./feature_check":2,"./helpers":3,"./key_map":5,"./process_nodes":6,"./rehydrate":7}],5:[function(e,t,n){"use strict";var r,o,i=["hasDefinition","isBoundToParent","isProcessed","replaceAttribute","retainElement"],a={},s="function"==typeof Symbol;for(r=0,o=i.length;r<o;r++)a[i[r]]=s?Symbol(i[r]):"__"+i[r]+"__";t.exports=a},{}],6:[function(e,t,n){"use strict";function r(e,t,n){var i,u,l,c,f,d,p=e?e.document:window.document;t=t.cloneNode(!0),d=o(e,t,n);for(i in n)u=n[i],u[a]||(l=d.get(u[0]),c=l.parentNode,r.useCommentNode?(f=c.insertBefore(p.createComment(' end "'+i+'" '),l),c.insertBefore(p.createComment(' begin "'+i+'" '),f)):f=c.insertBefore(p.createTextNode(""),l),s.set(u,f),c.removeChild(l));return t}function o(e,t,n){var r,o,i,a,s=e?e.document:window.document,u=e?e.NodeFilter:window.NodeFilter,l=s.createTreeWalker(t,u.SHOW_ELEMENT),c=new WeakMap,f=[];for(i in n)f.push(n[i][0]);for(;l.nextNode()&&f.length;)for(r=0,o=f.length;r<o;r++)if(a=f[r],l.currentNode.isEqualNode(a)){c.set(a,l.currentNode),f.splice(r,1);break}return c}var i=e("./key_map"),a=i.isBoundToParent,s=r.markerMap=new WeakMap;r.useCommentNode=!1,t.exports=r},{"./key_map":5}],7:[function(e,t,n){"use strict";function r(e,t,n,o,a){var p,h,y,m,g,v,w,b,N,k,E,T,A,_,x,O=e?e.document:window.document,j=e?e.NodeFilter:window.NodeFilter;for(p in n)if(h=n[p],k=c.get(t)[p],g=!h[s]&&h[1],v=h[s]&&h[1],w=h[2],b=k.keyPath,h[u])y=t[p],v&&null!=y?i(e,y,v,a,b):g&&g(a,y,null,b);else if(T=k.activeNodes,T.length){for(E=k.valueIsArray,y=E?t[p]:[t[p]],A=0,_=O.createTreeWalker(a,j.SHOW_ELEMENT);A<T.length&&_.nextNode();)x=T[A],_.currentNode.isEqualNode(x)&&(T.splice(A,1,_.currentNode),m=y[A],N=b,E&&(N=f(b,b,A)),v?(r(e,m,v,x,_.currentNode),w&&(d(N,b),w(_.currentNode,m,null,N))):g&&g(_.currentNode,m,null,N),A++);if(A!==T.length)throw new Error('Matching nodes could not be found on key "'+p+'".');x=_.currentNode,l.set(h,x.parentNode.insertBefore(O.createTextNode(""),x.nextSibling))}}var o=e("./process_nodes"),i=e("./bind_keys"),a=e("./key_map"),s=a.hasDefinition,u=a.isBoundToParent,l=o.markerMap,c=i.storeMeta,f=i.addToPath,d=i.findTarget;t.exports=r},{"./bind_keys":1,"./key_map":5,"./process_nodes":6}],8:[function(e,t,n){window.simulacra=e("../lib/index")},{"../lib/index":4}]},{},[8]);
